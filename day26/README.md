#### [å›ç›®éŒ„](../README.md)
## Day26 æ’ç¨‹-é‡é–‹æ©Ÿå¾Œæ’ç¨‹ä¸è¦‹æƒ¹ï¼Ÿç°¡å–®å¹¾å€‹æ­¥é©Ÿï¼Œå¾æ­¤ä»¥å¾Œå®Œå…¨è‡ªå‹•

>è§£æ±ºå•é¡Œçš„æ–¹æ³• â‰  æœ€å¥½çš„æ–¹æ³•

ğŸ¤” ç‚ºä»€éº¼å¯«é€™ç¯‡æ–‡ç« 
----
æ˜¨å¤©çš„æ•™å­¸è®“ä½ çš„æ’ç¨‹ç©©å®šçš„åœ¨èƒŒæ™¯åŸ·è¡Œï¼Œä½†æ˜¯ä½ é‡é–‹æ©Ÿåœ¨çµ‚ç«¯æ©Ÿ(Terminal)è¼¸å…¥ **forever list** çš„æŒ‡ä»¤ä½ æœƒç™¼ç¾ `foreveræ ¹æœ¬æ²’æœ‰forever`   

ç‚ºäº†æ±ºé€™å€‹å•é¡Œï¼Œä»Šå¤©æœƒæ•™ä½ å¦‚ä½•åœ¨`é›»è…¦é‡å•Ÿæ™‚è§¸ç™¼ forever ç¨‹å¼`çš„æ–¹æ³•ï¼Œé€™å¡Šæˆ‘æœƒåˆ†æˆ windows è·Ÿ mac ä¾†èªªæ˜ï¼Œè«‹å¤§å®¶å®‰å¿ƒæœç”¨

----

ğŸ† ä»Šæ—¥ç›®æ¨™
----
### 1. è¨­å®š mac æ’ç¨‹
1.1 æ’°å¯«åŸ·è¡Œæ’ç¨‹çš„ shell script ï¼š`crawler_cron.sh`
1.2 å°‡ crawler_cron.sh è¨­å®šç‚ºå¯ä»¥è¢«åŸ·è¡Œ
1.3 è¨­å®š crawler_cron.sh åœ¨ä½¿ç”¨è€…ç™»å…¥å¾Œè‡ªå‹•åŸ·è¡Œ
1.4 é‡æ–°ç™»å…¥ç¢ºèª crawler_cron.sh æ˜¯å¦åŸ·è¡Œ

### 2. è¨­å®š windows æ’ç¨‹
2.1 é€²å…¥æ’ç¨‹è¨­å®šé é¢
2.2 è¨­å®šè§¸ç™¼æ¢ä»¶
2.3 æ‰“é–‹ windows æ­·ç¨‹ç´€éŒ„
2.4 é‡é–‹æ©Ÿç¢ºèª crawler_cron.sh æ˜¯å¦åŸ·è¡Œ

----

# 1. è¨­å®š mac æ’ç¨‹
### 1.1 æ’°å¯«åŸ·è¡Œæ’ç¨‹çš„ shell script ï¼š`crawler_cron.sh`
1. åœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹å»ºç«‹å­˜æ”¾ shell script çš„ `sh è³‡æ–™å¤¾`ï¼Œä¸¦`æ–°å¢ crawler_cron.sh`
    * shell script å¯«æ³•å¾ˆç°¡å–®ï¼Œå¹³å¸¸ä½ æ€éº¼åœ¨çµ‚ç«¯æ©Ÿä¸‹æŒ‡ä»¤å°±æ€éº¼å¯«
    * å°ˆæ¡ˆè³‡æ–™å¤¾è·¯å¾‘å¯ç”¨ `pwd` æŒ‡ä»¤å–å¾—
        ![image](./article_img/pwd.png)
    #### crawler_cron.sh
    ```vim
    # é€²å…¥å°ˆæ¡ˆè³‡æ–™å¤¾
    cd /å°ˆæ¡ˆè³‡æ–™å¤¾è·¯å¾‘

    # å•Ÿå‹•æ’ç¨‹æœå‹™
    yarn forever
    ```    
2. åŸ·è¡Œ crawler_cron.sh ç¢ºèªæ­£å¸¸é‹ä½œ
    ```vim
    sh crawler_cron.sh 
    ```
    ![image](./article_img/excutesh.png)
### 1.2 å°‡ crawler_cron.sh è¨­å®šç‚ºå¯ä»¥è¢«åŸ·è¡Œ
å»ºç«‹çš„æª”æ¡ˆ`ä¸€é–‹å§‹åªæœ‰è®€å¯«åŠŸèƒ½`ï¼Œæˆ‘å€‘è¦å°‡æ­¤ .sh æª”æ¡ˆè¨­å®šç‚º`å¯ä»¥è¢«åŸ·è¡Œ`
1. æˆ‘å€‘å…ˆè§€å¯Ÿ **crawler_cron.sh** çš„æ¬Šé™
    ```vim
    # é€²å…¥è³‡æ–™å¤¾
    cd sh
    # åˆ—å‡ºè³‡æ–™å¤¾åœ°ä¸‹æª”æ¡ˆæ¬Šé™
    ll
    ```
    ![image](./article_img/macsh1.png)
2. ç›®å‰ crawler_cron.sh çš„æ¬Šé™æ˜¯ `-rw-r--r-- `
    * æ¬Šé™è¦æŠŠä»–åˆ‡åˆ†æˆ 3 æ®µä¾†çœ‹ï¼šowner/group/othersï¼Œæ‰€ä»¥ä»£è¡¨æª”æ¡ˆçš„owneræœ‰è®€(r)å¯«(w)çš„æ¬Šé™ï¼Œè€Œgroup/othersåªæœ‰è®€(r)çš„æ¬Šé™
    * è€Œæˆ‘å€‘è¦è®“é€™å€‹æª”æ¡ˆå¯ä»¥è¢«åŸ·è¡Œ(x)éœ€è¦ä¸‹æŒ‡ä»¤æ›´æ”¹æ¬Šé™  
        ```vim
        chmod 755 crawler_cron.sh
        ```
        ![image](./article_img/macsh2.png)
    > æƒ³è¦æ·±å…¥äº†è§£ chmod æª”æ¡ˆæ¬Šé™æ¦‚å¿µçš„è«‹åƒè€ƒ[é€™ç¯‡æ–‡ç« ](https://shian420.pixnet.net/blog/post/344938711-%5Blinux%5D-chmod-%E6%AA%94%E6%A1%88%E6%AC%8A%E9%99%90%E5%A4%A7%E7%B5%B1%E6%95%B4!)

### 1.3 è¨­å®š crawler_cron.sh åœ¨ä½¿ç”¨è€…ç™»å…¥å¾Œè‡ªå‹•åŸ·è¡Œ
1. æˆ‘å€‘è¦å…ˆç¢ºèª crawler_cron.sh çš„æª”æ¡ˆè³‡è¨Š
    ![image](./article_img/mac1.png)
2. å°‡æ‰“é–‹æª”æ¡ˆçš„æ‡‰ç”¨ç¨‹å¼è¨­å®šæˆ iTermï¼Œ`æ¼æ‰é€™å€‹æ­¥é©Ÿæœƒä½¿ mac è§¸ç™¼å¤±æ•—ï¼Œå› ç‚ºä»–ä¸¦ä¸æ˜¯ç”¨ iTerm æ–¹å¼åŸ·è¡Œ crawler_cron.sh æª”`
    ![image](./article_img/mac2.png)
3. è¨­å®š crawler_cron.sh åœ¨ä½¿ç”¨è€…ç™»å…¥å¾Œè‡ªå‹•åŸ·è¡Œ 
    ![image](./article_img/mac3.png)
    ![image](./article_img/mac4.png)
    ![image](./article_img/mac5.png)
    ![image](./article_img/mac6.png)

### 1.4 é‡æ–°ç™»å…¥ç¢ºèª crawler_cron.sh æ˜¯å¦åŸ·è¡Œ
è«‹ä½ é‡æ–°ç™»å…¥å¾Œåœ¨çµ‚ç«¯æ©Ÿ(Trerminal)è¼¸å…¥ **forever list** çš„æŒ‡ä»¤ç¢ºèªæ˜¯å¦æ­£å¸¸é‹è¡Œ
![image](./article_img/macterminal.png)

----

# 2. è¨­å®š windows æ’ç¨‹
### 2.1 é€²å…¥æ’ç¨‹è¨­å®šé é¢
* åœ¨éµç›¤åŒæ™‚æŒ‰ä¸‹ : WIN + R
* è¼¸å…¥ : taskschd.msc
    ![image](./article_img/wintask.png)

### 2.2 è¨­å®šè§¸ç™¼æ¢ä»¶
* å»ºç«‹å·¥ä½œ
    ![image](./article_img/win1.PNG)
* é¸æ“‡ä»¥`æœ€é«˜æ¬Šé™åŸ·è¡Œ`ï¼ŒåŒæ™‚è¨­å®šä¸€é–‹æ©Ÿç«‹åˆ»åŸ·è¡Œ
    ![image](./article_img/win2.PNG)
* åœ¨é€™è£¡è¨­å®šç‚º`æ¯æ¬¡é–‹æ©Ÿ`éƒ½æœƒè§¸ç™¼å·¥ä½œ
    ![image](./article_img/win3.PNG)
* ç·¨è¼¯å‹•ä½œçš„éƒ¨åˆ†æœ‰å¹¾å€‹éœ€è¦æ³¨æ„
    * ç¨‹å¼æˆ–æŒ‡ä»¤ç¢¼ : ä½ è¦æ‰¾åˆ°ç•¶åˆå®‰è£ yarn çš„è·¯å¾‘ï¼ŒåŠ yarn.cmd çš„æª”æ¡ˆ  
    * æ–°å¢å¼•æ•¸ : å¡«ä¸Š **forever** ï¼Œå› ç‚ºæˆ‘å€‘æ˜¯ç”¨ yarn foreverå•Ÿå‹•ç¨‹å¼çš„  
    * é–‹å§‹ä½ç½® : æŠŠå°ˆæ¡ˆçš„è·¯å¾‘è¤‡è£½ä¸Šå»å³å¯  
    ![image](./article_img/win4.PNG)

### 2.3 æ‰“é–‹ windows æ­·ç¨‹ç´€éŒ„
windowsè«‹æ‰“é–‹æ­·ç¨‹ç´€éŒ„å¦å‰‡ä¸æœƒåŸ·è¡Œè©²æ’ç¨‹
![image](./article_img/wintask2.PNG)
![image](./article_img/wintask3.PNG)
![image](./article_img/wintask4.PNG)

### 2.4 é‡é–‹æ©Ÿç¢ºèª crawler_cron.sh æ˜¯å¦åŸ·è¡Œ
è«‹æ³¨æ„å› ç‚ºä½¿ç”¨çš„æ˜¯æœ€é«˜æ¬Šé™åŸ·è¡Œ **yarn forever**ï¼Œæ‰€ä»¥ä½ åœ¨ cmd è£¡é¢ç”¨ **forever list** æ˜¯çœ‹ä¸åˆ°çš„
1. å¿…é ˆè¦ç”¨`ç³»çµ±ç®¡ç†å“¡èº«åˆ†åŸ·è¡Œ cmd`
    ![image](./article_img/winterminal.png)
2. åœ¨é€™å€‹æ¬Šé™ä¸‹è¼¸å…¥æŒ‡ä»¤ **forever list** æ‰èƒ½ç¢ºèªæ˜¯å¦æ­£å¸¸é‹è¡Œ    
    ![image](./article_img/winterminal2.png)

â„¹ï¸ å°ˆæ¡ˆåŸå§‹ç¢¼
----
* ä»Šå¤©çš„å®Œæ•´ç¨‹å¼ç¢¼å¯ä»¥åœ¨[é€™è£¡](https://github.com/dean9703111/ithelp_30days/tree/master/day26)æ‰¾åˆ°å–”
* æˆ‘æ˜¨å¤©çš„æŠŠæ˜¨å¤©çš„ç¨‹å¼ç¢¼æ‰“åŒ…æˆ[å£“ç¸®æª”](https://github.com/dean9703111/ithelp_30days/raw/master/sampleCode/day25_sample_code.zip)ï¼Œä½ å¯ä»¥åœ¨ä¹¾æ·¨çš„ç’°å¢ƒè©¦è©¦çœ‹æ’ç¨‹æ˜¯ä¸æ˜¯é‡é–‹æ©Ÿå¾Œä¾èˆŠå­˜åœ¨å‘¢~
    * è«‹è¨˜å¾—åœ¨çµ‚ç«¯æ©Ÿä¸‹æŒ‡ä»¤ **yarn** æ‰æœƒæŠŠä¹‹å‰çš„å¥—ä»¶å®‰è£
    * è¦åœ¨tools/google_sheetsè³‡æ–™å¤¾æ”¾ä¸Šè‡ªå·±çš„æ†‘è­‰
    * èª¿æ•´fanspagesè³‡æ–™å¤¾å…§ç›®æ¨™çˆ¬èŸ²çš„ç²‰å°ˆç¶²å€
    * èª¿æ•´.envæª”
        * å¡«ä¸ŠFBç™»å…¥è³‡è¨Š
        * å¡«ä¸ŠFBç‰ˆæœ¬(classic/new)
        * å¡«ä¸ŠIGç™»å…¥è³‡è¨Š
        * å¡«ä¸ŠSPREADSHEET_ID
        * å¡«ä¸Šçˆ¬èŸ²åŸ·è¡Œæ™‚é–“(CRONJOB_TIME)
    * åœ¨çµ‚ç«¯æ©Ÿä¸‹æŒ‡ä»¤ **npm install forever -g** ï¼Œè®“ä½ åœ¨çµ‚ç«¯æ©Ÿçš„ä»»ä½•ä½ç½®éƒ½èƒ½ç®¡æ§æ’ç¨‹
    * åœ¨shè³‡æ–™å¤¾ä¸­è¨­å®šåŸ·è¡Œæ’ç¨‹çš„shell script

ğŸ“– åƒè€ƒè³‡æº
----
1. [[LINUX] chmod æª”æ¡ˆæ¬Šé™å¤§çµ±æ•´](https://shian420.pixnet.net/blog/post/344938711-%5Blinux%5D-chmod-%E6%AA%94%E6%A1%88%E6%AC%8A%E9%99%90%E5%A4%A7%E7%B5%B1%E6%95%B4!)
2. [å·¥ä½œæ’ç¨‹å™¨ å•Ÿç”¨æ­·ç¨‹è¨˜éŒ„ åŸé¡¯ç¤º(å·²åœç”¨) windows 2012](https://cjy998.pixnet.net/blog/post/63190869-%E5%B7%A5%E4%BD%9C%E6%8E%92%E7%A8%8B%E5%99%A8-%E5%95%9F%E7%94%A8%E6%AD%B7%E7%A8%8B%E8%A8%98%E9%8C%84-%E5%8E%9F%E9%A1%AF%E7%A4%BA(%E5%B7%B2%E5%81%9C%E7%94%A8)--win)

### [Day27 ç‚ºçˆ¬èŸ²åŠ ä¸Šé€šçŸ¥ - é€é POSTMAN äº†è§£ LINE Notify å¦‚ä½•ä½¿ç”¨](/day27/README.md)